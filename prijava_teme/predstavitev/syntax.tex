% ChkTex-file 46

\documentclass[usenames,dvipsnames]{beamer}
\usetheme{boadilla}
\usecolortheme{spruce}
\setbeamertemplate{navigation symbols}{}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathpartir}
\usepackage{stmaryrd}
\usepackage{newtxmath}
\usepackage{ifthen}
\usepackage{xcolor}
\usepackage{epigraph}
\usepackage{tikz-cd}
\usepackage{float}
\usepackage{framed}
\usepackage{caption}
\usepackage{tcolorbox}
\definecolor{shadecolor}{rgb}{0.95,0.95,0.95}
\definecolor{newstuff}{rgb}{0.20,0.50,0.75}
\include{macros}

\title[Applications of algebraic effect theories]{\LARGE Applications of algebraic effect theories}
\author[Žiga Lukšič]{Žiga Lukšič \\ Mentor: doc.\ dr.\ Matija Pretnar}
\date{9.\ 5.\ 2019}
%===============================================================================
\begin{document}
%===============================================================================

%-------------------------------------------------------------------------------
\begin{frame}
  \frametitle{Term Syntax}
  
\[
	\begin{array}{rrll}
		\text{values}~v
		 & ::=   & x                                                                              & \text{variable}          \\
		 & \vsep & \unit                                                                          & \text{unit constant}     \\
		 & \vsep & \true \vsep \false                                                             & \text{boolean constants} \\
		 & \vsep & \fun{x}{c}                                                                     & \text{function}          \\
		 & \vsep & \handler{\hcases}                                                              & \text{handler}           \\
		 \\
		 \text{computations}~c
		 & ::=   & \ifclause{v}{c_1}{c_2}                                                         & \text{conditional}       \\
		 & \vsep & \apply{v_1}{v_2}                                                               & \text{application}       \\
		 & \vsep & \return{v}                                                                     & \text{returned value}    \\
		 & \vsep & \operation{v}{y.c}                                                             & \text{operation call}    \\
		 & \vsep & \dobind{x}{c_1}{c_2}                                                           & \text{sequencing}        \\
		 & \vsep & \withhandle{v}{c}                                                              & \text{handling}					\\
		 \\
		 \text{operation clauses}~\hcases
		  & ::=   & \emptyhcases \vsep \hcases \union \set{\operation{x}{\contin} \mapsto c_{\op}}                            \\
		\end{array}
		\]
\end{frame}
%-------------------------------------------------------------------------------
\begin{frame}
  \frametitle{Type Syntax}
  \[
	\begin{array}{rrll}
		\text{(value) type}~\tyA, \tyB
		 & ::=   & \unittype          & \text{unit type}\\
		 & \vsep & \booltype          & \text{boolean type}\\
		 & \vsep & \tyA \to \ctyC     & \text{function type}\\
		 & \vsep & \ctyC \hto \ctyD   & \text{handler type}\\
		\\
		\text{computation type}~\ctyC, \ctyD
		 & ::=   & \ctype{\tyA}{\sig}{\new{\eqE}}\\
		\\
		\text{signature}~\sig
		 & ::=   & \nil \vsep \sig \union \set{{\op \oftype \tyA \to \tyB}}\\
	\end{array}
\]


\end{frame}
%-------------------------------------------------------------------------------
\begin{frame}
  \frametitle{Type Syntax (additions)}
  \[
	\begin{array}{rrll}
		\text{value context}~\ctx
		 & ::=   & \varepsilon \vsep \ctx, x \oftype \tyA \\
		\\
		\new{ \text{template context}}~\tvars
		 & ::=   & \varepsilon \vsep \tvars, z \oftype \tyA \to \anytype \\
    \\
		\new{\text{template}}~\tmplT
		 & ::=   & \apply{z}{v} \\
		 & \vsep & \ifclause{v}{\tmplT_1}{\tmplT_2} \\
		 & \vsep & \operation{v}{y.\tmplT} \\
		\\
		\new{\text{(effect) theory}}~\eqE
		 & ::=   & \nil \vsep \eqE \union
		\set{\teqjudgement{\tenv}{\tmplT_1 \rel \tmplT_2}}\\
	\end{array}
  \]
  
  The \emph{any type} \new{$\anytype$} used in template types can be instantiated to any computation type so that we can reuse templates.
\end{frame}
%-------------------------------------------------------------------------------
\begin{frame}
  \frametitle{Full equation}
	\[\tenv = \tenvlong
			{(x \oftype \texttt{string}, y \oftype \texttt{string})}
    	{(z \oftype \unittype \to \anytype)}
	\]
	
	\[
    \teqjudgement{\tenv}
      {
      \mathit{print}(x; \_.\mathit{print}(y; \_.\apply{z}{\unit}))
      \rel
      \mathit{print}(x \concat y; \_.\apply{z}{\unit})
      }
  \]
\end{frame}
%===============================================================================
\end{document}
%===============================================================================